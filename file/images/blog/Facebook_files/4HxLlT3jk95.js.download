if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("reformCometComposerTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"reformCometComposerTextWithEntities_textWithEntities"};e.exports=a}),null);
__d("createPlainBlocksFromText",["CharacterMetadata","ContentBlock","generateRandomKey","immutable","sanitizeDraftText"],function(a,b,c,d,e,f,g){"use strict";function a(a){return a.map(function(a){a=c("sanitizeDraftText")(a);var b=a.length;return new(c("ContentBlock"))({key:c("generateRandomKey")(),text:a,type:"unstyled",characterList:c("immutable").List(c("immutable").Repeat(c("CharacterMetadata").EMPTY,b))})})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("createCometComposerEditorStateFromTextWithEntities",["ContentState","DraftModifier","EditorState","SelectionState","UnicodeUtils","createPlainBlocksFromText","recoverableViolation"],function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e=e===void 0?{}:e;var f=e.allowUndo;f===void 0?!1:f;f=e.splitIntoBlocks;e=f===void 0?!1:f;if(a.ranges.length===0)return{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:a.text};f=a.ranges;a=a.text;e=e?a.split(/(\r\n?|\n)/g):[a];var g=0,h=[],i=[];e.forEach(function(a,b){b%2===0&&(h.push(a),i.push(g)),g+=d("UnicodeUtils").strlen(a)});var j=c("createPlainBlocksFromText")(h);a=f.reduce(function(a,e,f){f=b(e,a);if(f==null)return a;var g=f.getLastCreatedEntityKey(),h=e.offset;e=h+e.length;var k,l,m,n;for(var o=0;o<i.length;o++){var p=i[o],q=i[o+1],r=q===void 0;(r||h>=p&&h<q)&&(k=j[o],l=h-p);if(r||e>=p&&e<q){m=j[o];n=e-p;break}}if(k==null||m==null){c("recoverableViolation")("createEditorStateWithRanges has failed to find the achor and focus of this entity","CometComposer");return a}r=d("UnicodeUtils").substr(k.getText(),0,l);q=r.length;p=d("UnicodeUtils").substr(m.getText(),0,n);e=p.length;h=new(c("SelectionState"))({anchorKey:k.getKey(),anchorOffset:q,focusKey:m.getKey(),focusOffset:e,hasFocus:!1,isBackward:!1});return d("DraftModifier").applyEntity(f,h,g)},c("ContentState").createFromBlockArray(j));return{__type:"editor-state-based",draftEditorState:c("EditorState").createWithContent(a)}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("reformCometComposerTextWithEntities",["CometRelay","createCometComposerEditorStateFromTextWithEntities","createCometComposerMentionsEntity","createCometComposerWhatsAppDeeplinkEntity","reformCometComposerTextWithEntities_textWithEntities.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("reformCometComposerTextWithEntities_textWithEntities.graphql"),a);var f=a.text;a=(a=a.ranges)!=null?a:[];var g=[];for(var i=0;i<a.length;i++){var j=a[i];j!=null&&j.offset!=null&&j.length!=null&&j.entity!=null&&j.entity.__typename!=null&&g.push({entity:j.entity,entity_is_weak_reference:j==null?void 0:j.entity_is_weak_reference,length:j.length,offset:j.offset})}i=c("createCometComposerEditorStateFromTextWithEntities")({ranges:g,text:(j=f)!=null?j:""},function(a,b){a=a.entity;var d=a.__typename;a=a.id;if((d==="User"||d==="Page"||d==="Event"||d==="Group")&&a!=null)return c("createCometComposerMentionsEntity")(a,!1,b);return d==="PageWhatsAppNumber"&&a!=null?c("createCometComposerWhatsAppDeeplinkEntity")(a,!1,b):null});return babelHelpers["extends"]({},e,{editorState:i})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerComposerPluginsForDraftJS.react",["cr:2235","createComposerDeferredPlugin","react","requireDeferred"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerMisinformationLinkDetectorPluginForDraftJS.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react")),j=c("createComposerDeferredPlugin")(c("requireDeferred")("CometMediaViewerComposerMentionsPlugin.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react")),k=c("createComposerDeferredPlugin")(c("requireDeferred")("CometComposerLinksPluginForDraftJS.react").__setRef("CometMediaViewerComposerPluginsForDraftJS.react"));function a(a){a=a.nodeID;return h.jsxs(h.Fragment,{children:[h.jsx(i,{composerType:"feed"},"misinformationLinkDetectorPlugin"),h.jsx(j,{nodeID:a,position:"below"},"mentionsPlugin"),h.jsx(b("cr:2235"),{},"hashtagPlugin"),h.jsx(k,{},"linksPlugin")]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerComposerDraftJSEditor.react",["CometComposerEditor.react","CometMediaViewerComposerPluginsForDraftJS.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.nodeID;a=a.submitted;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometComposerEditor.react"),{placeholder:"Add a description",readOnly:a}),h.jsx(c("CometMediaViewerComposerPluginsForDraftJS.react"),{nodeID:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("CometMediaViewerComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsViewItemResolver.react","createCometComposerMentionsEntity","getCometComposerMentionsSearch","react","useCometMediaViewerComposerMentionsStrategyResolverConfig","useCometMentionsModalLoggingProvider","useCometTypeaheadViewListStrategy","useMentionsHandlerForSelectedEntry","withComposerViewStatePart"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return a.label}function j(a,b){return c("createCometComposerMentionsEntity")(b.key,!1,a)}function a(a){var b=a.currentBlockKey,d=a.nodeID;a=a.position;a=a===void 0?"above":a;d=c("useCometMediaViewerComposerMentionsStrategyResolverConfig")(d);var e=c("useCometMentionsModalLoggingProvider")({context_id:null,context_type:"undirected",surface:"COMPOSER",typeahead_type:"ENTITY"}),f=c("useMentionsHandlerForSelectedEntry")({getReplacementString:i,getSearchText:c("getCometComposerMentionsSearch"),onMentionsCreateContentState:j}),g=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return h.jsx(c("CometComposerMentionsPlugin.react"),{currentBlockKey:b,dataSourceResolverConfig:d,getSearchText:c("getCometComposerMentionsSearch"),loggingProvider:e,mentionsHandlerForSelectedEntry:f,position:a,priority:1,viewStrategyRenderer:g})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}});g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);